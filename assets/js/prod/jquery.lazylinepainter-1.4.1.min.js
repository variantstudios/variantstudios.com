!function(t,e,a){var o={init:function(e){return this.each(function(){var a=t(this),i=a.data("lazyLinePainter");if(a.addClass("lazy-line"),!i){var i=t.extend({width:null,height:null,strokeWidth:2,strokeColor:"#000",strokeCap:"round",strokeJoin:"round",strokeOpacity:1,strokeDash:null,onComplete:null,delay:null,overrideKey:null},e),o=null===i.overrideKey?a.attr("id").replace("#",""):i.overrideKey,r=i.svgData[o].dimensions.width,n=i.svgData[o].dimensions.height;i.svgData=i.svgData[o].strokepath,null===i.width&&(i.width=r),null===i.height&&(i.height=n),o=a.attr("id"),r=new Raphael(o,r,n),a.data("lazyLinePainter",{svgData:i.svgData,width:i.width,height:i.height,strokeWidth:i.strokeWidth,strokeColor:i.strokeColor,strokeCap:i.strokeCap,strokeJoin:i.strokeJoin,strokeOpacity:i.strokeOpacity,strokeDash:i.strokeDash,onComplete:i.onComplete,delay:i.delay,overrideKey:i.overrideKey,paper:r,count:1,complete:!1,playhead:0,setTimeOutHandler:[]})}})},paint:function(){return this.each(function(){var e=t(this),a=e.data("lazyLinePainter"),i=function(){e.css({width:a.width,height:a.height}),t.each(a.svgData,function(t,i){var o=a.paper.path(i.path);o.attr({stroke:"none","stroke-width":a.strokeWidth,"fill-opacity":0});var s=setTimeout(function(){n({count:a.count,canvas:a.paper,pathstr:o,duration:i.duration,attr:r(a,i),callback:function(t){a.setTimeOutHandler.splice(a.count,1),a.count++,a.svgData.length+1==a.count&&(a.complete=!0,null!==a.onComplete&&a.onComplete.call(e))}})},a.playhead);a.playhead+=i.duration,a.setTimeOutHandler.push(s)})};null===a.delay?i():setTimeout(i,a.delay)})},erase:function(){return this.each(function(){var e=t(this);for(e.find("svg").empty(),d=e.data("lazyLinePainter"),i=0;i<d.setTimeOutHandler.length;i++)clearTimeout(d.setTimeOutHandler[i]);d.playhead=0,d.count=0,d.complete=!1})},destroy:function(){return this.each(function(){var e=t(this);e.data("lazyLinePainter"),e.removeData("lazyLinePainter"),e.remove()})},stamp:function(){return this.each(function(){var e=t(this),a=e.data("lazyLinePainter"),o=function(){for(e.css({width:a.width,height:a.height}),i=0;i<a.svgData.length;i++)a.paper.path(a.svgData[i].path).attr(r(a,a.svgData[i]))};null===a.delay?o():setTimeout(o,a.delay)})}},r=function(t,e){return{stroke:e.strokeColor?e.strokeColor:t.strokeColor,"fill-opacity":0,"stroke-dasharray":e.strokeDash?e.strokeDash:t.strokeDash,"stroke-opacity":e.strokeOpacity?e.strokeOpacity:t.strokeOpacity,"stroke-width":e.strokeWidth?e.strokeWidth:t.strokeWidth,"stroke-linecap":e.strokeCap?e.strokeCap:t.strokeCap,"stroke-linejoin":e.strokeJoin?e.strokeJoin:t.strokeJoin}},n=function(t){var e,i=t.canvas,o=t.pathstr,r=t.duration,n=t.attr,s=t.callback;e="string"==typeof o?i.path(o).attr({stroke:"none",fill:"none"}):o;var l=i.path(e.getSubpath(0,1)).attr(n),h=e.getTotalLength(e);e.getPointAtLength(0);var d=(new Date).getTime(),u=setInterval(function(){var t=(new Date).getTime()-d,i=e.getSubpath(0,t/r*h);n.path=i,l.animate(n,25),t>=r&&(clearInterval(u),s!==a&&s(),e.remove())},25)};t.fn.lazylinepainter=function(t){return o[t]?o[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:o.init.apply(this,arguments)}}(jQuery,window);