!function(t,s,e){"use strict";var a=function(){s(".rrssb-buttons").each(function(t){var e=s(this),a=s("li",e).length,i=100/a;s("li",e).css("width",i+"%").attr("data-initwidth",i)})},i=function(){s(".rrssb-buttons").each(function(t){var e=s(this),a=parseFloat(s(e).width()),i=s("li",e).not(".small").first().width(),l=s("li.small",e).length;i>170&&1>l?s(e).addClass("large-format"):s(e).removeClass("large-format"),200>a?s(e).removeClass("small-format").addClass("tiny-format"):s(e).removeClass("tiny-format")})},l=function(){s(".rrssb-buttons").each(function(t){var e,a,i=s(this),l=0,n=0,o=s("li.small",i).length;if(o===s("li",i).length){var c=42*o,h=parseFloat(s(i).width());e=s("li.small",i).first(),a=parseFloat(s(e).attr("data-size"))+55,h>c+a&&(s(i).removeClass("small-format"),s("li.small",i).first().removeClass("small"),r())}else{s("li",i).not(".small").each(function(t){var e=parseFloat(s(this).attr("data-size"))+55,a=parseFloat(s(this).width());l+=a,n+=e});var m=l-n;e=s("li.small",i).first(),a=parseFloat(s(e).attr("data-size"))+55,m>a&&(s(e).removeClass("small"),r())}})},n=function(t){s(".rrssb-buttons").each(function(t){var e=s(this),a=s("li",e).nextAll();a.length;s(s("li",e).get().reverse()).each(function(t,a){if(s(this).hasClass("small")===!1){var i=parseFloat(s(this).attr("data-size"))+55,n=parseFloat(s(this).width());if(i>n){var o=s("li",e).not(".small").last();s(o).addClass("small"),r()}}--a||l()})}),t===!0&&c(r)},r=function(){s(".rrssb-buttons").each(function(t){var e,i,l,n,r,o=s(this),c=s("li.small",o).length;c>0&&c!==s("li",o).length?(s(o).removeClass("small-format"),s("li.small",o).css("width","42px"),l=42*c,e=s("li",o).not(".small").length,i=100/e,r=l/e,n=navigator.userAgent.indexOf("Chrome")>=0||navigator.userAgent.indexOf("Safari")>=0?"-webkit-calc("+i+"% - "+r+"px)":navigator.userAgent.indexOf("Firefox")>=0?"-moz-calc("+i+"% - "+r+"px)":"calc("+i+"% - "+r+"px)",s("li",o).not(".small").css("width",n)):c===s("li",o).length?(s(o).addClass("small-format"),a()):(s(o).removeClass("small-format"),a())}),i()},o=function(){s(".rrssb-buttons").each(function(t){s(this).addClass("rrssb-"+(t+1))}),a(),s(".rrssb-buttons li .text").each(function(t){var e=parseFloat(s(this).width());s(this).closest("li").attr("data-size",e)}),n(!0)},c=function(t){s(".rrssb-buttons li.small").removeClass("small"),n(),t()},h=function(s,a,i,l){var n=t.screenLeft!==e?t.screenLeft:screen.left,r=t.screenTop!==e?t.screenTop:screen.top,o=t.innerWidth?t.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,c=t.innerHeight?t.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,h=o/2-i/2+n,m=c/3-l/3+r,u=t.open(s,a,"scrollbars=yes, width="+i+", height="+l+", top="+m+", left="+h);t.focus&&u.focus()},m=function(){var t={};return function(s,e,a){a||(a="Don't call this twice without a uniqueId"),t[a]&&clearTimeout(t[a]),t[a]=setTimeout(s,e)}}();s(".rrssb-buttons a.popup").on("click",function(t){var e=s(this);h(e.attr("href"),e.find(".text").html(),580,470),t.preventDefault()}),s(t).resize(function(){c(r),m(function(){c(r)},200,"finished resizing")}),s(document).ready(function(){o()})}(window,jQuery);